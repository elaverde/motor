function services_images(t,e,i){$(t).html(""),$.getJSON("services/services_list_img.php",function(e){var o=[];$.each(e,function(t,e){o.push('<div  style="height:70px;"  class="col-sm-6 col-md-3"><a href="#" class="thumbnail imgs"><img width="60" src="'+e.url.replace("../","")+'" alt="..."></a></div>')}),$("<ul/>",{"class":"my-new-list",height:"100%",html:o.join("")}).appendTo(t),$(".imgs img").on({click:function(){i($(this).attr("src"))}})}).done(function(){console.log("second success")}).fail(function(t){console.log("error"+t)}).always(function(){console.log("complete")})}paidagogo={iframe:"#editor",editor:{lienzo:"#lienzo",name_start:"div",background:"#fondo",class_edit:".box",n_divs:0},fondo:function(t){$(this.iframe).contents().find(this.editor.background).css("background-image","url("+t+")")},get_capa:function(t,e){this.editor.n_divs+=1;var i=$("<div/>",{id:"C"+this.editor.name_start+this.editor.n_divs,"class":"drsElement",width:t,height:e});i.css({position:"absolute",left:"15px",top:"15px"});var o=$("<div/>",{"class":"drsMoveHandle"});o.attr("data-id","#C"+this.editor.name_start+this.editor.n_divs);var a=$("<div/>",{"class":"box",contenteditable:!0,id:this.editor.name_start+this.editor.n_divs,width:"100%",height:"100%"});return a.css({outline:"0px",display:"block"}),$(i).append(o),$(i).append(a),i},create_capa:function(){var t=this.get_capa("300px","80px");$(this.iframe).contents().find(this.editor.background).append(t),$(this.iframe).contents().find("#"+this.editor.name_start+this.editor.n_divs).text("Contenido"),window.frames.editor.create_ck(this.editor.name_start+this.editor.n_divs)},create_img:function(t){var e=this.get_capa("300px","300px");$(this.iframe).contents().find(this.editor.background).append(e);var t=$("<img/>",{src:t,width:"100%",height:"100%"});t.css({display:"block"}),$(this.iframe).contents().find("#"+this.editor.name_start+this.editor.n_divs).append(t)},create_video:function(t){var e=this.get_capa("300px","300px");$(this.iframe).contents().find(this.editor.background).append(e);var i=$("<iframe/>",{src:"https://www.youtube.com/embed/"+t,allowfullscreen:"",frameborder:0,width:"100%",height:"100%"});i.css({display:"block"}),$(this.iframe).contents().find("#"+this.editor.name_start+this.editor.n_divs).append(i)},id_youtuebe:function(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,i=t.match(e);return i&&11==i[7].length?i[7]:void alert("Url incorrecta")},get_code:function(){return $(this.iframe).contents().find(this.editor.lienzo).html()},convertImgToBase64:function(t,e,i){var o=document.createElement("CANVAS"),a=o.getContext("2d"),n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var t;o.height=n.height,o.width=n.width,a.drawImage(n,0,0),t=o.toDataURL(i),e.call(this,t),o=null},n.src=t},descargarArchivo:function(t,e){var i=new FileReader;i.onload=function(t){var i=document.createElement("a");i.href=t.target.result,i.target="_blank",i.download=e||"archivo.dat";var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),(window.URL||window.webkitURL).revokeObjectURL(i.href)},i.readAsDataURL(t)},generarTexto:function(t){var e=[];return e.push(t),new Blob(e,{type:"text/plain"})}},$(function(){$("#myModal1").on("shown.bs.modal",function(){services_images("#library_img1","#myModal1",function(t){paidagogo.convertImgToBase64(t,function(t){paidagogo.fondo(t),$("#myModal1").modal("toggle")})})}),$("#myModal2").on("shown.bs.modal",function(){services_images("#library_img2","#myModal2",function(t){paidagogo.convertImgToBase64(t,function(t){paidagogo.create_img(t),$("#myModal2").modal("toggle")})})}),$("#new_capa").on({click:function(){paidagogo.create_capa()}}),$(".download").on({click:function(){$(paidagogo.iframe).contents().find(paidagogo.editor.class_edit).attr("contenteditable","false"),paidagogo.descargarArchivo(paidagogo.generarTexto(paidagogo.get_code()),"paidagogo.html"),$(paidagogo.iframe).contents().find(paidagogo.editor.class_edit).attr("contenteditable","true")}}),$("#insertYT").on({click:function(){paidagogo.create_video(paidagogo.id_youtuebe($("#url").val())),$("#myModal4").modal("toggle")}})});
//# sourceMappingURL=app_tools.min.js.map